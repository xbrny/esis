<h1 class="page-header text-center">Subjects</h1>
<% if logged_in? && current_user.admin? %>
  <p><%= link_to 'Create new subject', new_subject_path, class: "btn btn-sm btn-default pull-right mb-4" %></p>
<% end %>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Code</th>
      <th>Name</th>
      <th>Description</th>
      <% if logged_in? && current_user.admin? %>
      <th class="text-center">Action</th>
      <% end %>
    </tr>
  </thead>

  <tbody>
    <% @subjects.each do |subject| %>
      <tr>
        <td><%= link_to subject.code, subject_path(subject) %></td>
        <td><%= link_to subject.name, subject_path(subject) %></td>
        <td><%= truncate(subject.description, length: 70) %>
        <% if logged_in? && current_user.admin? %>
        <td class="text-center table-actions">
          <%= link_to 'View', subject, class: "btn btn-xs btn-default ma-2" %>
          <%= link_to 'Edit', edit_subject_path(subject), class: "btn btn-xs btn-default ma-2" %>
          <%= link_to 'Delete', subject, method: :delete, class: "btn btn-xs btn-danger ma-2",
                                data: { confirm: 'Are you sure you want to delete this subject?' } %>
        </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
